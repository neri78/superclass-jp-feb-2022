(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{435:function(t,e,s){t.exports=s.p+"assets/img/okta-create-app.23a2caea.png"},436:function(t,e,s){t.exports=s.p+"assets/img/okta-app-saml.cdfdaf8b.png"},437:function(t,e,s){t.exports=s.p+"assets/img/okta-app-name.414ccadb.png"},438:function(t,e,s){t.exports=s.p+"assets/img/frontline-realm-sid.b84e9d57.png"},439:function(t,e,s){t.exports=s.p+"assets/img/okta-sso-urls.57e5c616.png"},440:function(t,e,s){t.exports=s.p+"assets/img/okta-sso-attributes.000fa365.png"},441:function(t,e,s){t.exports=s.p+"assets/img/okta-sso-setup-instructions.b2de4dbe.png"},442:function(t,e,s){t.exports=s.p+"assets/img/okta-sso-instructions-details.66405d7f.png"},443:function(t,e,s){t.exports=s.p+"assets/img/okta-people.e6182cbc.png"},444:function(t,e,s){t.exports=s.p+"assets/img/okta-people-profile-tab.32543690.png"},445:function(t,e,s){t.exports=s.p+"assets/img/okta-people-usertype.abf8c78a.png"},446:function(t,e,s){t.exports=s.p+"assets/img/okta-people-assign-app.334844a6.png"},447:function(t,e,s){t.exports=s.p+"assets/img/okta-people-app-list.dc204817.png"},448:function(t,e,s){t.exports=s.p+"assets/img/okta-people-assigned-apps.4da91ced.png"},449:function(t,e,s){t.exports=s.p+"assets/img/frontline-sso-workspace.6bc6fa2f.png"},475:function(t,e,s){"use strict";s.r(e);var a=s(56),o=Object(a.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"oktaを使用したssoの設定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oktaを使用したssoの設定"}},[t._v("#")]),t._v(" Oktaを使用したSSOの設定")]),t._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("警告")]),t._v(" "),a("p",[t._v("Twilio Frontlineを利用する場合、アカウントが"),a("a",{attrs:{href:"https://www.twilio.com/docs/iam/organizations",target:"_blank",rel:"noopener noreferrer"}},[t._v("Organization"),a("OutboundLink")],1),t._v("に属している必要があります。この機能は組織内において複数のユーザーやアカウントを管理できる機能となります。ただし、現時点で一度作成したOrganizationは "),a("strong",[t._v("コンソールから削除できません。")]),t._v(" 削除する場合はサポートへの問い合わせが必要となるため、Organizationの使用有無や使用可能が判断できない場合は、ハンズオンを実施せずにデモをご確認ください。")]),t._v(" "),a("p",[t._v("また、Twilio FrontlineはTwilio Flexで利用されているプロジェクトでは利用できません。 さらに、内部ではTwilio ConversationsやTwiML Appsなどを活用しています。そのため、既存のTwilioアカウントでTwilio Frontlineを設定した場合、もともとの設定が変更されてしまう可能性があります。できるだけ新しいアカウント、あるいはサブアカウントでハンズオンを実施してください。")]),t._v(" "),a("p",[t._v("Twilio Frontlineはテキストチャットが初期の機能として実装され、その後音声通話に対応しました。そのため、接続するTwilio番号はSMS、音声両方の機能に対応している必要があります。2022年2月現在、コンソールから購入可能な日本の番号はSMSに対応していないため、米国番号でハンズオンを実施してください。")])]),t._v(" "),a("p",[a("strong",[t._v("目次")])]),a("div",{staticClass:"table-of-contents"},[a("ul",[a("li",[a("a",{attrs:{href:"#ssoについて"}},[t._v("SSOについて")])]),a("li",[a("a",{attrs:{href:"#oktaアプリケーションの作成"}},[t._v("Oktaアプリケーションの作成")])]),a("li",[a("a",{attrs:{href:"#属性を定義"}},[t._v("属性を定義")])]),a("li",[a("a",{attrs:{href:"#setup-instructionsをコピー"}},[t._v("Setup Instructionsをコピー")])]),a("li",[a("a",{attrs:{href:"#ユーザーの設定-user-typeを定義"}},[t._v("ユーザーの設定 - User typeを定義")])]),a("li",[a("a",{attrs:{href:"#ユーザーの設定-アプリケーションに割り当て"}},[t._v("ユーザーの設定 - アプリケーションに割り当て")])]),a("li",[a("a",{attrs:{href:"#frontlineのsso設定を完了"}},[t._v("FrontlineのSSO設定を完了")])])])]),a("p"),t._v(" "),a("h2",{attrs:{id:"ssoについて"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ssoについて"}},[t._v("#")]),t._v(" SSOについて")]),t._v(" "),a("p",[t._v("Twilio Frontlineを使用する場合は、アイデンティティプロバイダーを導入しておりシングルサインオン（SSO）が設定されている必要があります。ここでは"),a("a",{attrs:{href:"https://www.twilio.com/docs/frontline/sso/okta",target:"_blank",rel:"noopener noreferrer"}},[t._v("Oktaを利用する方法"),a("OutboundLink")],1),t._v("を日本語で解説します。その他のプロバイダーに関しては下記をご覧ください。")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.twilio.com/docs/frontline/sso/salesforce",target:"_blank",rel:"noopener noreferrer"}},[t._v("Salesforce"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.twilio.com/docs/frontline/sso/google",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://www.twilio.com/docs/frontline/sso/azure-ad",target:"_blank",rel:"noopener noreferrer"}},[t._v("Microsoft Azure AD"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"oktaアプリケーションの作成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#oktaアプリケーションの作成"}},[t._v("#")]),t._v(" Oktaアプリケーションの作成")]),t._v(" "),a("p",[t._v("Oktaデベロッパーアカウントを保有していない場合は"),a("a",{attrs:{href:"https://developer.okta.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("こちら"),a("OutboundLink")],1),t._v("から作成します。作成後、ポータルにサインインします。")]),t._v(" "),a("p",[t._v("新しいアプリケーションを作成するため、ナビゲーションから、"),a("code",[t._v("Applications")]),t._v("を選択し、"),a("code",[t._v("Create App Integration")]),t._v("ボタンをクリックします。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(435),alt:"Okta App"}})]),t._v(" "),a("p",[t._v("Sign-in methodを選択する画面では"),a("code",[t._v("SAML 2.0")]),t._v("を選択し、"),a("code",[t._v("Next")]),t._v("ボタンをクリックします。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(436),alt:"Sign in method"}})]),t._v(" "),a("p",[t._v("続いてアプリケーションの名前を設定し、"),a("code",[t._v("Next")]),t._v("ボタンをクリックします。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(437),alt:"App Name"}})]),t._v(" "),a("p",[t._v("SAML Sesstings画面では、"),a("code",[t._v("Singe sign on URL")]),t._v("並びに"),a("code",[t._v("Audience URI (SP Entity ID)")]),t._v("を指定する必要があります。")]),t._v(" "),a("p",[t._v("ここで使用する情報を取得するため、別タブでTwilioコンソールのFrontlineを開き、"),a("code",[t._v("SSO/Log in")]),t._v("画面を表示します。この画面に表示される"),a("code",[t._v("Realm SID")]),t._v("を控えます。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(438),alt:"Frontline - SSO - Realm"}})]),t._v(" "),a("p",[t._v("Oktaの設定画面に戻り、"),a("code",[t._v("Singe sign on URL")]),t._v("並びに"),a("code",[t._v("Audience URI (SP Entity ID)")]),t._v("をそれぞれ次のように設定します。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名前")]),t._v(" "),a("th",[t._v("値")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Singe sign on URL")]),t._v(" "),a("td",[t._v("https://iam.twilio.com/v2/saml2/authenticate/Realm SIDの値")])]),t._v(" "),a("tr",[a("td",[t._v("Audience URI (SP Entity ID)")]),t._v(" "),a("td",[t._v("https://iam.twilio.com/v2/saml2/metadata/Realm SIDの値")])])])]),t._v(" "),a("p",[a("img",{attrs:{src:s(439),alt:"Okta - SSO - URLs"}})]),t._v(" "),a("h2",{attrs:{id:"属性を定義"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#属性を定義"}},[t._v("#")]),t._v(" 属性を定義")]),t._v(" "),a("p",[t._v("続いて下方向にスクロールし、"),a("code",[t._v("Attribute Statements (optional)")]),t._v("に下記の値を追加します。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("Name")]),t._v(" "),a("th",[t._v("Name format")]),t._v(" "),a("th",[t._v("Value")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("email")]),t._v(" "),a("td",[t._v("Basic")]),t._v(" "),a("td",[t._v("user.email")])]),t._v(" "),a("tr",[a("td",[t._v("roles")]),t._v(" "),a("td",[t._v("Basic")]),t._v(" "),a("td",[t._v("user.userType")])])])]),t._v(" "),a("p",[a("img",{attrs:{src:s(440),alt:"Okta - SSO - attributes"}})]),t._v(" "),a("p",[a("code",[t._v("Next")]),t._v("ボタンをクリックし次に進みます。")]),t._v(" "),a("p",[t._v("最後の画面はサポートを受けるための質問です。"),a("code",[t._v("I'm an Okta customer adding an internal app")]),t._v("を選択し、追加フィールドに入力が可能な情報については入力します。特に必須ではありません。")]),t._v(" "),a("p",[a("code",[t._v("Finish")]),t._v("ボタンをクリックし、終了します。")]),t._v(" "),a("h2",{attrs:{id:"setup-instructionsをコピー"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setup-instructionsをコピー"}},[t._v("#")]),t._v(" Setup Instructionsをコピー")]),t._v(" "),a("p",[t._v("アプリケーションの設定画面へと遷移した状態で、画面に表示されているSAML 2.0のSetup Instructionsを表示します。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(441),alt:"okta - app settings"}})]),t._v(" "),a("p",[t._v("表示される画面で確認できる次の値を全て控えておきます。")]),t._v(" "),a("ul",[a("li",[t._v("Identity Provider Single Sign-On URL:")]),t._v(" "),a("li",[t._v("Identity Provider Issuer:")]),t._v(" "),a("li",[t._v("X.509 Certificate:")])]),t._v(" "),a("p",[a("img",{attrs:{src:s(442),alt:"okta - app settings details"}})]),t._v(" "),a("h2",{attrs:{id:"ユーザーの設定-user-typeを定義"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ユーザーの設定-user-typeを定義"}},[t._v("#")]),t._v(" ユーザーの設定 - User typeを定義")]),t._v(" "),a("p",[t._v("ナビゲーションから"),a("code",[t._v("Directory")]),t._v(" - "),a("code",[t._v("People")]),t._v("を選択し、Twilio Frontlineの使用ユーザーとなるユーザーの詳細情報を開きます。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(443),alt:"okta - direcotry"}})]),t._v(" "),a("p",[a("code",[t._v("Profile")]),t._v("タブをクリックし、プロファイルを修正します。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(444),alt:"okta - people - profile"}})]),t._v(" "),a("p",[a("code",[t._v("User type")]),t._v("に"),a("code",[t._v("agent")]),t._v("と入力し、"),a("code",[t._v("Save")]),t._v("ボタンをクリックします。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(445),alt:"okta - people - user type"}})]),t._v(" "),a("h2",{attrs:{id:"ユーザーの設定-アプリケーションに割り当て"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ユーザーの設定-アプリケーションに割り当て"}},[t._v("#")]),t._v(" ユーザーの設定 - アプリケーションに割り当て")]),t._v(" "),a("p",[a("code",[t._v("Applications")]),t._v("タブを開き、"),a("code",[t._v("Assign Applications")]),t._v("ボタンをクリックします。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(446),alt:"okta - people - app"}})]),t._v(" "),a("p",[t._v("一覧から先ほど作成したアプリケーションを割り当てます。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(447),alt:"okta - people - app - assign"}})]),t._v(" "),a("p",[t._v("割り当てが完了すると"),a("code",[t._v("Assigned Applications")]),t._v("の一覧に表示されます。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(448),alt:"okta - people - assigned app"}})]),t._v(" "),a("h2",{attrs:{id:"frontlineのsso設定を完了"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#frontlineのsso設定を完了"}},[t._v("#")]),t._v(" FrontlineのSSO設定を完了")]),t._v(" "),a("p",[t._v("先ほどRealm SIDを確認したFrontlineの"),a("code",[t._v("SSO/Log in")]),t._v("設定画面に戻り、次の項目を入力します。")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("名前")]),t._v(" "),a("th",[t._v("値")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Workspace ID")]),t._v(" "),a("td",[t._v("2文字以上21文字以内の英数字")])]),t._v(" "),a("tr",[a("td",[t._v("Identity provider issuer")]),t._v(" "),a("td",[t._v("Oktaから取得した値")])]),t._v(" "),a("tr",[a("td",[t._v("SSO URL")]),t._v(" "),a("td",[t._v("Oktaから取得した値")])]),t._v(" "),a("tr",[a("td",[t._v("X.509 Certificate")]),t._v(" "),a("td",[t._v("Oktaから取得した値")])])])]),t._v(" "),a("p",[t._v("下記のスクリーンショットも参考にしてください。")]),t._v(" "),a("p",[a("img",{attrs:{src:s(449),alt:"okta - people - assigned app"}})]),t._v(" "),a("p",[t._v("これでSSOの設定が完了しました。")])])}),[],!1,null,null,null);e.default=o.exports}}]);